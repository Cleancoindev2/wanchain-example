<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Wanchain 0xcert framework example</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>

  </head>

  <body>
    <h1>Create a new asset.</h1>
    <a href="./index.html"><< Back</a>
    <p>
      This is a quick demonstation of use. There is no input validation, error handling and no security features. Please input correct data or the demo will fail. For more information check out the Framework <a href="https://docs.0xcert.org/">documentation</a>.
    </p>
    Example data:<br/>
    Asset ledger ID (contract address): Go to <a href="./deploy.html">deploy page</a> and deploy a new asset ledger, then copy the contract address from block explorer.<br/>
    ID: 1<br/>
    Recipient address: 0xe96D860C8BBB30F6831E6E65d327295B7A0C524f<br/>
    Imprint: 973124ffc4a03e66d6a4458e587d5d6146f71fc57f359c8d516e0b12a50ab0d9<br/><br/>
    Token information: <br/>
    <input id="address" type="text" placeholder="Asset ledger ID" /><br/>
    <input id="id" type="text" placeholder="ID" /><br/>
    <input id="recipient" type="text" placeholder="Recipient address" /><br/>
    <input id="imprint" type="text" placeholder="Imprint" /><br/>
    <button id="submit">Create</button>
    <p id="console"></p>
  </body>

  <script>
    $.ajax({
      contentType: 'application/json'
    });

    $(function(){
      $('#submit').click(function(){
        $.post(
          "http://localhost:8080/mint",
          {
            assetLedgerId: $('#address').val(),
            receiverId: $('#recipient').val(),
            id: $('#id').val(),
            imprint: $('#imprint').val()
          },
          function (response) {
            $('#console').html('<a href="http://testnet.wanscan.org/tx/' + response + '" target="_blank">Check transaction on the Wanchain block explorer</a>. Note that it may take a while for transaction to be shown.');
          }
        );
      });
    });
  </script>
</html>