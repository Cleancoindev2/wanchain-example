<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Wanchain 0xcert Framework example</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>

  </head>

  <body>
    <h1>Transfer an asset.</h1>
    <a href="./index.html"><< Back</a>
    <p>
      This is a quick demonstation of use. There is no input validation, error handling and no security features. Please input correct data or the demo will fail. For more information check out the Framework <a href="https://docs.0xcert.org/">documentation</a>.
    </p>
    Example data:<br/>
    Asset ledger ID (contract address):<br/>
    ID 1<br/>
    Recipient address: 0xe96D860C8BBB30F6831E6E65d327295B7A0C524f<br/>
    Token information: <br/>
    <input id="address" type="text" placeholder="Asset ledger ID" /><br/>
    <input id="id" type="text" placeholder="ID" /><br/>
    <input id="recipient" type="text" placeholder="Recipient address" /><br/>
    <button id="submit">Transfer</button>
    <p id="console"></p>
  </body>

  <script>
    $.ajax({
      contentType: 'application/json'
    });

    $(function(){
      $('#submit').click(function(){
        $.post(
          "http://localhost:8080/transfer",
          {
            assetLedgerId: $('#address').val(),
            receiverId: $('#recipient').val(),
            id: $('#id').val(),
          },
          function (response) {
            $('#console').html('<a href="http://testnet.wanscan.org/tx/' + response + '" target="_blank">Check transaction on the Wanchain block explorer</a>. Note that it may take a while for transaction to be shown.');
          }
        );
      });
    });
  </script>
</html>